@*@page
    @model PizzaPalace.Pages.LoginModel
    @{
        ViewData["Title"] = "Login";
        Layout = "~/Pages/Shared/_Layout.cshtml";
    }

    @using Microsoft.AspNetCore.Authorization
    @inject IAuthorizationService AuthorizationService

    <h2>Login</h2>

    <p>Login using form below:</p>
    <form method="post">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        Username: <input asp-for="data.Email" value="cfarns01@gmail.com" /><br />
        Password: <input asp-for="data.Password" value="123456" /><br />
        <input type="submit" value="Login" />
        @Html.AntiForgeryToken()
    </form>*@

@page
@model PizzaPalace.Pages.LoginModel
@{
    ViewData["Title"] = "Login";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

@{
    var identity = this.User.Identity;
    var name = identity.Name;
    var isAuthenticated = identity.IsAuthenticated;
}

@if (isAuthenticated)
{
    <div class="mt-1 mb-1 mr-1 text-light">Welcome @name</div>
    <form class="form-inline" method="post" asp-controller="Login" asp-action="Logout">
        <button class="btn btn-outline-success mt-1 mb-1 mr-1">Logout</button>
    </form>
}
else
{
    <form class="form-inline" method="post" asp-controller="Login" asp-action="Login">
        <input class="form-control mt-1 mb-1 mr-1 bg-light" name="Email" placeholder="Email" required>
        <input class="form-control mt-1 mb-1 mr-1 bg-light" type="password" name="Password" placeholder="password" required>
        <button class="btn btn-outline-success mt-1 mb-1 mr-1">Login</button>
    </form>
}
